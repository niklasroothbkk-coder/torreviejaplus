<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TorreviejaPlus Admin Panel</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f0f0f1;
            min-height: 100vh;
            display: flex;
        }
        
        /* WordPress-style Sidebar */
        .sidebar {
            width: 260px;
            background: #23282d;
            min-height: 100vh;
            position: fixed;
            left: 0;
            top: 0;
            color: white;
            overflow-y: auto;
        }
        
        .sidebar-header {
            padding: 20px;
            background: #191e23;
            border-bottom: 1px solid #32373c;
        }
        
        .sidebar-header h1 {
            color: white;
            font-size: 20px;
            margin: 0;
        }
        
        .sidebar-menu {
            padding: 10px 0;
        }
        
        .menu-item {
            padding: 12px 20px;
            color: #eee;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.2s;
            border-left: 4px solid transparent;
            text-decoration: none;
        }
        
        .menu-item:hover {
            background: #32373c;
            color: #00b9eb;
        }
        
        .menu-item.active {
            background: #0073aa;
            border-left-color: #00b9eb;
            color: white;
        }
        
        .menu-item span {
            font-size: 20px;
        }
        
        /* Main Content Area */
        .main-content {
            margin-left: 260px;
            flex: 1;
            padding: 20px 40px;
        }
        
        .page-header {
            margin-bottom: 30px;
            border-bottom: 1px solid #ccd0d4;
            padding-bottom: 15px;
        }
        
        .page-header h1 {
            color: #23282d;
            font-size: 23px;
            font-weight: 400;
            margin: 0;
        }
        
        .container { max-width: 1400px; margin: 0 auto; }
        h1 { color: #23282d; text-align: left; margin-bottom: 20px; font-size: 23px; font-weight: 400; }
        .panel {
            background: white;
            border-radius: 0;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 1px 1px rgba(0,0,0,0.04);
            border: 1px solid #c3c4c7;
        }
        h2 {
            color: #23282d;
            margin-bottom: 20px;
            border-bottom: 1px solid #c3c4c7;
            padding-bottom: 10px;
            font-size: 20px;
            font-weight: 400;
        }
        .form-group { margin-bottom: 20px; }
        .form-group.hidden { display: none; }
        label { display: block; margin-bottom: 5px; color: #555; font-weight: 600; }
        input, textarea, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }
        input:focus, textarea:focus, select:focus { outline: none; border-color: #667eea; }
        textarea { min-height: 100px; resize: vertical; }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        button {
            background: #2271b1;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 3px;
            font-size: 14px;
            font-weight: 400;
            cursor: pointer;
            box-shadow: 0 1px 0 #2271b1;
        }
        button:hover { background: #135e96; box-shadow: 0 1px 0 #135e96; }
        button.delete { background: #b32d2e; box-shadow: 0 1px 0 #b32d2e; }
        button.delete:hover { background: #8a2424; box-shadow: 0 1px 0 #8a2424; }
        button.edit { background: #2271b1; padding: 6px 12px; font-size: 13px; box-shadow: 0 1px 0 #2271b1; }
        button.edit:hover { background: #135e96; box-shadow: 0 1px 0 #135e96; }
        button.reactivate { background: #00a32a; padding: 6px 12px; font-size: 13px; box-shadow: 0 1px 0 #00a32a; }
        button.reactivate:hover { background: #008a20; box-shadow: 0 1px 0 #008a20; }
        .venue-item {
            background: #f6f7f7;
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 0;
            border-left: 4px solid #2271b1;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid #c3c4c7;
            position: relative;
        }
        .status-indicator {
            position: absolute;
            top: 12px;
            right: 12px;
            width: 14px;
            height: 14px;
            border-radius: 50%;
            border: 2px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        .status-active {
            background: #00a32a;
        }
        .status-inactive {
            background: #d63638;
        }
        .venue-info h3 { color: #333; margin-bottom: 5px; text-align: left; }
        .venue-info p { color: #666; margin: 3px 0; font-size: 14px; text-align: left; } 
        .venue-actions { display: flex; gap: 10px; }
        .success {
            background: #00a32a;
            color: white;
            padding: 12px 15px;
            border-radius: 0;
            margin-bottom: 20px;
            display: none;
            border-left: 4px solid #008a20;
        }
        .error {
            background: #d63638;
            color: white;
            padding: 12px 15px;
            border-radius: 0;
            margin-bottom: 20px;
            display: none;
            border-left: 4px solid #b02a2c;
        }
        .loading { text-align: center; padding: 20px; color: #666; }
        
        .checkbox-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 10px;
        }
        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            padding: 8px;
            border-radius: 5px;
            transition: background 0.2s;
        }
        .checkbox-label:hover {
            background: #f8f9fa;
        }
        .checkbox-label input[type="checkbox"] {
            width: auto;
            cursor: pointer;
        }
        
        .image-upload-section {
            background: #f8f9fa;
            border: 2px dashed #667eea;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            margin-bottom: 20px;
        }
        .image-upload-section input[type="file"] { display: none; }
        .upload-btn {
            background: #2271b1;
            color: white;
            padding: 8px 16px;
            border-radius: 3px;
            cursor: pointer;
            display: inline-block;
            margin: 10px 0;
            font-size: 14px;
            box-shadow: 0 1px 0 #2271b1;
        }
        .upload-btn:hover { background: #135e96; box-shadow: 0 1px 0 #135e96; }
        .image-preview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        .image-preview-item {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            border: 3px solid transparent;
        }
        .image-preview-item.main-image { border-color: #00a32a; }
        .image-preview-item img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            display: block;
        }
        .image-preview-item .remove-image {
            position: absolute;
            top: 5px;
            right: 5px;
            background: #b32d2e;
            color: white;
            border: none;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            cursor: pointer;
            font-size: 14px;
            line-height: 1;
        }
        .image-preview-item .main-badge {
            position: absolute;
            bottom: 5px;
            left: 5px;
            background: #00a32a;
            color: white;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 11px;
            font-weight: 600;
        }
        .upload-info {
            color: #666;
            font-size: 13px;
            margin-top: 10px;
        }
        .hours-row {
            display: grid;
            grid-template-columns: 90px 1fr;
            gap: 15px;
            align-items: center;
            margin-bottom: 10px;
        }
        .hours-row label {
            margin: 0;
            font-weight: 600;
        }
        
        /* Content Pages */
        .content-page {
            display: none;
        }
        
        .content-page.active {
            display: block;
        }
        
        /* Venue Filters */
        .venue-filters {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .search-box {
            flex: 1;
            min-width: 300px;
        }
        
        .search-box input {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #c3c4c7;
            border-radius: 3px;
            font-size: 14px;
        }
        
        .search-box input:focus {
            outline: none;
            border-color: #2271b1;
        }
        
        .category-filter select {
            padding: 10px 15px;
            border: 1px solid #c3c4c7;
            border-radius: 3px;
            font-size: 14px;
            min-width: 200px;
            background: white;
        }
        
        .category-filter select:focus {
            outline: none;
            border-color: #2271b1;
        }
        
        .filter-results {
            color: #666;
            font-size: 14px;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <!-- WordPress-style Sidebar -->
    <div class="sidebar">
        <div class="sidebar-header" onclick="switchPage('dashboard')" style="cursor: pointer;">
            <h1>üèñÔ∏è TorreviejaPlus</h1>
        </div>
        <div class="sidebar-menu">
            <div class="menu-item active" onclick="switchPage('dashboard')">
                <span>üè†</span>
                <div>Dashboard</div>
            </div>
            <div style="height: 1px; background: #32373c; margin: 10px 0;"></div>
            <div class="menu-item" onclick="switchPage('all-venues')">
                <span>üìã</span>
                <div>All Venues</div>
            </div>
            <div class="menu-item" onclick="switchPage('add-venue')">
                <span style="color: white;">‚ûï</span>
                <div>Add Venue</div>
            </div>
            <div style="height: 1px; background: #32373c; margin: 10px 0;"></div>
            <div class="menu-item" onclick="switchPage('all-deals')">
                <span>üéØ</span>
                <div>All Deals</div>
            </div>
            <div class="menu-item" onclick="switchPage('add-deal')">
                <span style="color: white;">‚ûï</span>
                <div>New Deal</div>
            </div>
            <div style="height: 1px; background: #32373c; margin: 10px 0;"></div>
            <div class="menu-item" onclick="switchPage('all-events')">
                <span>üéâ</span>
                <div>All Events</div>
            </div>
            <div class="menu-item" onclick="switchPage('add-event')">
                <span style="color: white;">‚ûï</span>
                <div>New Event</div>
            </div>
        </div>
    </div>

    <!-- Main Content Area -->
    <div class="main-content">
        <div class="container">
            <div id="successMessage" class="success"></div>
            <div id="errorMessage" class="error"></div>

            <!-- Dashboard Page -->
            <div id="dashboard-page" class="content-page active">
                <div class="page-header">
                    <h1>Welcome to TorreviejaPlus Admin</h1>
                </div>
                <div class="panel" style="text-align: center; padding: 100px 30px;">
                    <img src="assets/backgrounds/TV+STOR.png" alt="TorreviejaPlus Logo" style="max-width: 600px; width: 100%; height: auto;">
                </div>
            </div>

            <!-- Add Venue Page -->
            <div id="add-venue-page" class="content-page">
                <div class="page-header">
                    <h1 id="formTitle">Add New Venue</h1>
                </div>
                <div class="panel">
                    <form id="venueForm">
                <input type="hidden" id="venueId">
                
                <div class="form-group">
                    <label for="name">Venue Name *</label>
                    <input type="text" id="name" required>
                </div>

                <div class="form-group">
                    <label for="category">Category *</label>
                    <select id="category" required onchange="updateSubCategories()">
                        <option value="">Select category...</option>
                        <option value="Restaurants">Restaurants</option>
                        <option value="Sport Bars">Sport Bars</option>
                        <option value="Massage & Spa">Massage & Spa</option>
                        <option value="Healthcare & Emergency">Healthcare & Emergency</option>
                        <option value="Nightclubs">Nightclubs</option>
                        <option value="Post Offices & Banks">Post Offices & Banks</option>
                        <option value="Car & Bike Rentals">Car & Bike Rentals</option>
                        <option value="Shopping Centres">Shopping Centres</option>
                        <option value="Beaches">Beaches</option>
                    </select>
                </div>

                <!-- CUISINE CHECKBOXES -->
                <div class="form-group hidden" id="cuisineGroup">
                    <label>Cuisine (Select all that apply)</label>
                    <div class="checkbox-grid">
                        <label class="checkbox-label">
                            <input type="checkbox" name="cuisine" value="Thai">
                            <span>Thai</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="cuisine" value="Burger">
                            <span>Burger</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="cuisine" value="Chinese">
                            <span>Chinese</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="cuisine" value="French">
                            <span>French</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="cuisine" value="Indian">
                            <span>Indian</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="cuisine" value="International">
                            <span>International</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="cuisine" value="Mediterranean">
                            <span>Mediterranean</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="cuisine" value="Mexican">
                            <span>Mexican</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="cuisine" value="Pizza & Pasta">
                            <span>Pizza & Pasta</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="cuisine" value="Spanish">
                            <span>Spanish</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="cuisine" value="Steak">
                            <span>Steak</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="cuisine" value="Swedish">
                            <span>Swedish</span>
                        </label>
                    </div>
                </div>

                <!-- PUB TYPE CHECKBOXES -->
                <div class="form-group hidden" id="pubTypeGroup">
                    <label>Pub Type (Select all that apply)</label>
                    <div class="checkbox-grid">
                        <label class="checkbox-label">
                            <input type="checkbox" name="pub_types" value="English Pub">
                            <span>English Pub</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="pub_types" value="Irish Pub">
                            <span>Irish Pub</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="pub_types" value="Sportbar">
                            <span>Sportbar</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="pub_types" value="Live Band">
                            <span>Live Band</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="pub_types" value="Serve Food">
                            <span>Serve Food</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="pub_types" value="Sport on TV">
                            <span>Sport on TV</span>
                        </label>
                    </div>
                </div>

                <!-- SPA TYPE CHECKBOXES -->
                <div class="form-group hidden" id="spaTypeGroup">
                    <label>Spa Type (Select all that apply)</label>
                    <div class="checkbox-grid">
                        <label class="checkbox-label">
                            <input type="checkbox" name="spa_types" value="Massage">
                            <span>Massage</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="spa_types" value="Spa">
                            <span>Spa</span>
                        </label>
                    </div>
                </div>

                <!-- SPORT TYPE SELECT -->
                <div class="form-group hidden" id="sportTypeGroup">
                    <label for="sport_type">Sport Type</label>
                    <select id="sport_type">
                        <option value="">Select sport type...</option>
                        <option value="Golf">Golf</option>
                        <option value="Padel">Padel</option>
                        <option value="Tennis">Tennis</option>
                        <option value="Watersports">Watersports</option>
                    </select>
                </div>

                <!-- ATTRACTION TYPE SELECT -->
                <div class="form-group hidden" id="attractionTypeGroup">
                    <label for="attraction_type">Attraction Type</label>
                    <select id="attraction_type">
                        <option value="">Select attraction type...</option>
                        <option value="Beaches">Beaches</option>
                        <option value="Culture">Culture</option>
                        <option value="Markets">Markets</option>
                        <option value="Shopping">Shopping</option>
                        <option value="Tours">Tours</option>
                    </select>
                </div>

                <!-- HEALTHCARE TYPE SELECT -->
                <div class="form-group hidden" id="healthcareTypeGroup">
                    <label for="healthcare_type">Healthcare Type</label>
                    <select id="healthcare_type">
                        <option value="">Select healthcare type...</option>
                        <option value="Hospital">Hospital</option>
                        <option value="Clinic">Clinic</option>
                        <option value="Pharmacy">Pharmacy</option>
                        <option value="Dentist">Dentist</option>
                        <option value="Emergency Services">Emergency Services</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="description">Description *</label>
                    <textarea id="description" required></textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="location">Full Address *</label>
                        <input type="text" id="location" required placeholder="Type here...">
                    </div>
                    <div class="form-group">
                        <label for="location_short">Short Location *</label>
                        <input type="text" id="location_short" required placeholder="Type here...">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="phone">Phone</label>
                        <input type="text" id="phone" placeholder="Type here...">
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" placeholder="Type here...">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="whatsapp">WhatsApp</label>
                        <input type="text" id="whatsapp" placeholder="Type here...">
                    </div>
                    <div class="form-group">
                        <label for="line">Line</label>
                        <input type="text" id="line" placeholder="Type here...">
                    </div>
                </div>

                <div class="form-group">
                    <label for="website">Website</label>
                    <input type="url" id="website" placeholder="Type here...">
                </div>

                <div class="form-group">
                    <label>üì± Social Media</label>
                    <div class="form-row">
                        <input type="url" id="facebook" placeholder="Type here...">
                        <input type="url" id="instagram" placeholder="Type here...">
                    </div>
                    <div class="form-row" style="margin-top: 10px;">
                        <input type="url" id="tiktok" placeholder="Type here...">
                        <input type="url" id="xtwitter" placeholder="Type here...">
                    </div>
                </div>

                <div class="form-group">
                    <label>‚è∞ Opening Hours</label>
                    <div class="hours-row">
                        <label>Monday:</label>
                        <input type="text" id="monday_hours" placeholder="Type here...">
                    </div>
                    <div class="hours-row">
                        <label>Tuesday:</label>
                        <input type="text" id="tuesday_hours" placeholder="Type here...">
                    </div>
                    <div class="hours-row">
                        <label>Wednesday:</label>
                        <input type="text" id="wednesday_hours" placeholder="Type here...">
                    </div>
                    <div class="hours-row">
                        <label>Thursday:</label>
                        <input type="text" id="thursday_hours" placeholder="Type here...">
                    </div>
                    <div class="hours-row">
                        <label>Friday:</label>
                        <input type="text" id="friday_hours" placeholder="Type here...">
                    </div>
                    <div class="hours-row">
                        <label>Saturday:</label>
                        <input type="text" id="saturday_hours" placeholder="Type here...">
                    </div>
                    <div class="hours-row">
                        <label>Sunday:</label>
                        <input type="text" id="sunday_hours" placeholder="Type here...">
                    </div>
                </div>

                <div class="form-group">
                    <label>‚ú® Features</label>
                    <div class="checkbox-grid">
                        <label class="checkbox-label">
                            <input type="checkbox" id="feature_indoor">
                            <span>üè† Indoor Seating</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="feature_outdoor">
                            <span>‚òÄÔ∏è Outdoor Seating</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="feature_creditcard">
                            <span>üí≥ Accept Credit Cards</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="feature_seaview">
                            <span>üåä Sea View</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="feature_smoking">
                            <span>üö¨ Smoking Area</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="feature_wheelchair">
                            <span>‚ôø Wheelchair Accessible</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label>üì∏ Images (Max 6) - First image will be the main card image</label>
                    <div class="image-upload-section">
                        <input type="file" id="imageInput" accept="image/*" multiple>
                        <label for="imageInput" class="upload-btn">Choose Images</label>
                        <div class="upload-info">
                            Max 6 images ‚Ä¢ JPG, PNG, WebP ‚Ä¢ First image = Card image
                        </div>
                        <div id="imagePreview" class="image-preview-grid"></div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="rating">Rating (0-5)</label>
                        <input type="number" id="rating" step="0.1" min="0" max="5" placeholder="Type here...">
                    </div>
                    <div class="form-group">
                        <label for="review_count">Review Count</label>
                        <input type="number" id="review_count" placeholder="Type here...">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="price_range">Price Range *</label>
                        <select id="price_range" required>
                            <option value="">Select price...</option>
                            <option value="‚Ç¨">‚Ç¨ (Budget)</option>
                            <option value="‚Ç¨‚Ç¨">‚Ç¨‚Ç¨ (Moderate)</option>
                            <option value="‚Ç¨‚Ç¨‚Ç¨">‚Ç¨‚Ç¨‚Ç¨ (Upscale)</option>
                            <option value="‚Ç¨‚Ç¨‚Ç¨‚Ç¨">‚Ç¨‚Ç¨‚Ç¨‚Ç¨ (Luxury)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="views">Views</label>
                        <input type="number" id="views" placeholder="0">
                    </div>
                </div>

                <div class="form-group">
                    <label for="registered_date">Registered Date</label>
                    <input type="date" id="registered_date">
                </div>

                <button type="submit" id="submitBtn">Add Venue</button>
                <button type="button" id="cancelBtn" onclick="cancelEdit()" style="display: none; background: #95a5a6;">Cancel</button>
            </form>
                </div>
            </div>

            <!-- Add Deal Page -->
            <div id="add-deal-page" class="content-page">
                <div class="page-header">
                    <h1 id="dealFormTitle">Add New Deal</h1>
                </div>
                <div class="panel">
                <form id="dealForm">
                    <input type="hidden" id="dealId">
                    
                    <div class="form-group">
                        <label for="deal_name">Deal Name *</label>
                        <input type="text" id="deal_name" required>
                    </div>

                    <div class="form-group">
                        <label for="deal_category">Deal / Promotion Category *</label>
                        <select id="deal_category" required>
                            <option value="">Select category...</option>
                            <option value="Happy Hours">Happy Hours</option>
                            <option value="Watersport Deals">Watersport Deals</option>
                            <option value="Restaurant Deals">Restaurant Deals</option>
                            <option value="Sport Deals">Sport Deals</option>
                            <option value="Pub & Bar Deals">Pub & Bar Deals</option>
                            <option value="Other Deals">Other Deals</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="deal_description">Description *</label>
                        <textarea id="deal_description" required></textarea>
                    </div>

                    <div class="form-group">
                        <label for="deal_phone">Phone</label>
                        <input type="text" id="deal_phone" placeholder="Type here...">
                    </div>

                    <div class="form-group">
                        <label for="deal_venue_link">Link to Venue (for contact/hours/rating) *</label>
                        <select id="deal_venue_link" required>
                            <option value="">Select venue...</option>
                            <!-- Will be populated with venues from database -->
                        </select>
                    </div>

                    <!-- Date & Time Section -->
                    <div class="form-group">
                        <label>üìÖ Deal Schedule Start Day</label>
                        
                        <div class="form-row" style="margin-top: 10px; grid-template-columns: 1fr 1fr 1fr;">
                            <div class="form-group">
                                <label for="deal_date">Date *</label>
                                <input type="date" id="deal_date" required>
                            </div>
                            <div class="form-group">
                                <label for="deal_start_time">Start Time</label>
                                <input type="time" id="deal_start_time" value="12:00">
                            </div>
                            <div class="form-group">
                                <label for="deal_end_time">End Time</label>
                                <input type="time" id="deal_end_time" value="12:00">
                            </div>
                        </div>

                        <div class="form-group" style="margin-top: 15px;">
                            <label>
                                <input type="checkbox" id="deal_repeat" onchange="toggleRepeatOptions()" style="width: auto; margin-right: 8px;">
                                <span>üîÅ Repeat (show for entire month or specific days)</span>
                            </label>
                        </div>

                        <!-- Repeat Options (hidden by default) -->
                        <div id="repeatOptions" class="form-group hidden" style="margin-top: 15px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
                            <label style="margin-bottom: 10px;">Repeat on:</label>
                            
                            <!-- Grid layout: 4 columns -->
                            <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 15px;">
                                <!-- Row 1 -->
                                <label class="checkbox-label">
                                    <input type="checkbox" name="repeat_days" value="Monday">
                                    <span>Monday</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="repeat_days" value="Tuesday">
                                    <span>Tuesday</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="repeat_days" value="Wednesday">
                                    <span>Wednesday</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="repeat_days" value="Thursday">
                                    <span>Thursday</span>
                                </label>
                                
                                <!-- Row 2 -->
                                <label class="checkbox-label">
                                    <input type="checkbox" name="repeat_days" value="Friday">
                                    <span>Friday</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="repeat_days" value="Saturday">
                                    <span>Saturday</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="repeat_days" value="Sunday">
                                    <span>Sunday</span>
                                </label>
                            </div>

                            <!-- Third row: Number of weeks -->
                            <div class="form-group" style="margin-top: 15px; margin-bottom: 0;">
                                <label for="repeat_weeks">Number of weeks to repeat</label>
                                <input type="number" id="repeat_weeks" min="1" max="52" placeholder="4" style="width: 150px;">
                                <small style="color: #666; display: block; margin-top: 5px;">
                                    üìù Example: Select Friday + Saturday with 4 weeks = 8 deals total (Friday √ó 4 + Saturday √ó 4)
                                </small>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>üì∏ Deal Image (Max 1) - Main card image</label>
                        <div class="image-upload-section">
                            <input type="file" id="dealImageInput" accept="image/*">
                            <label for="dealImageInput" class="upload-btn">Choose Image</label>
                            <div class="upload-info">
                                Max 1 image ‚Ä¢ JPG, PNG, WebP
                            </div>
                            <div id="dealImagePreview" class="image-preview-grid"></div>
                        </div>
                    </div>

                    <div class="form-row" style="grid-template-columns: 1fr 1fr 1fr;">
                        <div class="form-group">
                            <label for="deal_price_range">Price Range</label>
                            <select id="deal_price_range">
                                <option value="">Select price...</option>
                                <option value="‚Ç¨">‚Ç¨ (Budget)</option>
                                <option value="‚Ç¨‚Ç¨">‚Ç¨‚Ç¨ (Moderate)</option>
                                <option value="‚Ç¨‚Ç¨‚Ç¨">‚Ç¨‚Ç¨‚Ç¨ (Upscale)</option>
                                <option value="‚Ç¨‚Ç¨‚Ç¨‚Ç¨">‚Ç¨‚Ç¨‚Ç¨‚Ç¨ (Luxury)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="deal_price">Price (e.g. ‚Ç¨15, Buy 1 Get 1, 50% off)</label>
                            <input type="text" id="deal_price" placeholder="‚Ç¨15:00">
                        </div>
                        <div class="form-group">
                            <label for="deal_views">Views</label>
                            <input type="number" id="deal_views" placeholder="0">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="deal_registered_date">Registered Date</label>
                        <input type="date" id="deal_registered_date">
                    </div>

                    <button type="submit" id="dealSubmitBtn">Add Deal</button>
                    <button type="button" id="dealCancelBtn" onclick="cancelDealEdit()" style="display: none; background: #95a5a6;">Cancel</button>
                </form>
                </div>
            </div>

            <!-- All Venues Page -->
            <div id="all-venues-page" class="content-page">
                <div class="page-header">
                    <h1>All Venues & Services</h1>
                </div>
                <div class="panel">
                    <div class="venue-filters">
                        <div class="search-box">
                            <input type="text" id="venueSearch" placeholder="üîç Search by venue name..." oninput="filterVenues()">
                        </div>
                        <div class="category-filter">
                            <select id="categoryFilter" onchange="filterVenues()">
                                <option value="">All Categories</option>
                                <option value="Restaurants">Restaurants</option>
                                <option value="Sport Bars">Sport Bars</option>
                                <option value="Massage & Spa">Massage & Spa</option>
                                <option value="Healthcare & Emergency">Healthcare & Emergency</option>
                                <option value="Nightclubs">Nightclubs</option>
                                <option value="Post Offices & Banks">Post Offices & Banks</option>
                                <option value="Car & Bike Rentals">Car & Bike Rentals</option>
                                <option value="Shopping Centres">Shopping Centres</option>
                                <option value="Beaches">Beaches</option>
                            </select>
                        </div>
                        <div class="category-filter">
                            <select id="venueStatusFilter" onchange="filterVenues()">
                                <option value="all">All Venues</option>
                                <option value="active">Active Only</option>
                                <option value="inactive">Inactive</option>
                            </select>
                        </div>
                    </div>
                    <div id="filterResults" class="filter-results" style="display: none;"></div>
                    <div id="venuesList" class="loading">Loading venues...</div>
                </div>
            </div>

            <!-- All Deals Page... (REST OF FILE CONTINUES) -->
